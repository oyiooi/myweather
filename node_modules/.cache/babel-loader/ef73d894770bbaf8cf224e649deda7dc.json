{"ast":null,"code":"import { map } from './map.js';\nlet _window = window,\n    AMap = _window.AMap;\nexport function getLngLat(searchT) {\n  let geocoder = new AMap.Geocoder({\n    city: '全国'\n  });\n  let pro = new Promise(function (resolve, reject) {\n    geocoder.getLocation(searchT, function (status, result) {\n      if (status === 'complete' && result.info === 'OK') {\n        let _result$geocodes$0$lo = result.geocodes[0].location,\n            lng = _result$geocodes$0$lo.lng,\n            lat = _result$geocodes$0$lo.lat;\n        let lnglat = [lng, lat];\n        console.log([lng, lat]);\n        resolve(lnglat);\n      } else {\n        reject(status);\n      }\n    });\n  });\n  return pro;\n}\nexport function addMarker(difang, show) {\n  let geocoder = new AMap.Geocoder({\n    city: '全国'\n  });\n  geocoder.getLocation(difang, function (status, result) {\n    if (status === 'complete' && result.info === 'OK') {\n      let _result$geocodes$0$lo2 = result.geocodes[0].location,\n          lng = _result$geocodes$0$lo2.lng,\n          lat = _result$geocodes$0$lo2.lat;\n      let marker = new AMap.Marker({\n        position: [lng, lat],\n        title: difang\n      });\n      map.add(marker);\n      show();\n      console.log([lng, lat], result.geocodes);\n    } else {\n      throw Error(status);\n    }\n  });\n}\nexport default AMap;","map":{"version":3,"sources":["D:\\myproject\\react\\my-app\\src\\config.js"],"names":["map","window","AMap","getLngLat","searchT","geocoder","Geocoder","city","pro","Promise","resolve","reject","getLocation","status","result","info","geocodes","location","lng","lat","lnglat","console","log","addMarker","difang","show","marker","Marker","position","title","add","Error"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,UAAlB;cAEcC,M;IAARC,I,WAAAA,I;AAKN,OAAO,SAASC,SAAT,CAAmBC,OAAnB,EAA2B;AAE9B,MAAIC,QAAQ,GAAG,IAAIH,IAAI,CAACI,QAAT,CAAkB;AAC7BC,IAAAA,IAAI,EAAC;AADwB,GAAlB,CAAf;AAIA,MAAIC,GAAG,GAAG,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAiBC,MAAjB,EAAwB;AAC1CN,IAAAA,QAAQ,CAACO,WAAT,CAAqBR,OAArB,EAA6B,UAASS,MAAT,EAAgBC,MAAhB,EAAuB;AAChD,UAAGD,MAAM,KAAG,UAAT,IAAuBC,MAAM,CAACC,IAAP,KAAc,IAAxC,EAA6C;AAAA,oCAC1BD,MAAM,CAACE,QAAP,CAAgB,CAAhB,EAAmBC,QADO;AAAA,YACpCC,GADoC,yBACpCA,GADoC;AAAA,YAChCC,GADgC,yBAChCA,GADgC;AAEzC,YAAIC,MAAM,GAAC,CAACF,GAAD,EAAKC,GAAL,CAAX;AAAqBE,QAAAA,OAAO,CAACC,GAAR,CAAY,CAACJ,GAAD,EAAKC,GAAL,CAAZ;AACrBT,QAAAA,OAAO,CAACU,MAAD,CAAP;AACH,OAJD,MAIK;AACDT,QAAAA,MAAM,CAACE,MAAD,CAAN;AACH;AACJ,KARD;AASH,GAVS,CAAV;AAYA,SAAOL,GAAP;AACH;AAED,OAAO,SAASe,SAAT,CAAmBC,MAAnB,EAA0BC,IAA1B,EAA+B;AAElC,MAAIpB,QAAQ,GAAG,IAAIH,IAAI,CAACI,QAAT,CAAkB;AAC7BC,IAAAA,IAAI,EAAC;AADwB,GAAlB,CAAf;AAIAF,EAAAA,QAAQ,CAACO,WAAT,CAAqBY,MAArB,EAA4B,UAASX,MAAT,EAAgBC,MAAhB,EAAuB;AAC/C,QAAGD,MAAM,KAAG,UAAT,IAAuBC,MAAM,CAACC,IAAP,KAAc,IAAxC,EAA6C;AAAA,mCAC1BD,MAAM,CAACE,QAAP,CAAgB,CAAhB,EAAmBC,QADO;AAAA,UACpCC,GADoC,0BACpCA,GADoC;AAAA,UAChCC,GADgC,0BAChCA,GADgC;AAEzC,UAAIO,MAAM,GAAE,IAAIxB,IAAI,CAACyB,MAAT,CAAgB;AACxBC,QAAAA,QAAQ,EAAC,CAACV,GAAD,EAAKC,GAAL,CADe;AAExBU,QAAAA,KAAK,EAACL;AAFkB,OAAhB,CAAZ;AAIAxB,MAAAA,GAAG,CAAC8B,GAAJ,CAAQJ,MAAR;AACAD,MAAAA,IAAI;AACJJ,MAAAA,OAAO,CAACC,GAAR,CAAY,CAACJ,GAAD,EAAKC,GAAL,CAAZ,EAAsBL,MAAM,CAACE,QAA7B;AAEH,KAVD,MAUK;AACD,YAAMe,KAAK,CAAClB,MAAD,CAAX;AACH;AACJ,GAdD;AAeH;AAED,eAAeX,IAAf","sourcesContent":["import {map} from './map.js'\r\n\r\nlet { AMap }= window\r\n\r\n\r\n\r\n\r\nexport function getLngLat(searchT){\r\n\r\n    let geocoder = new AMap.Geocoder({\r\n        city:'全国'\r\n    })\r\n    \r\n    let pro = new Promise(function(resolve,reject){\r\n        geocoder.getLocation(searchT,function(status,result){\r\n            if(status==='complete' && result.info==='OK'){\r\n                let {lng,lat} =result.geocodes[0].location;\r\n                let lnglat=[lng,lat];console.log([lng,lat])\r\n                resolve(lnglat)    \r\n            }else{\r\n                reject(status)\r\n            }\r\n        })   \r\n    })\r\n\r\n    return pro\r\n}\r\n\r\nexport function addMarker(difang,show){\r\n\r\n    let geocoder = new AMap.Geocoder({\r\n        city:'全国'\r\n    })\r\n\r\n    geocoder.getLocation(difang,function(status,result){\r\n        if(status==='complete' && result.info==='OK'){\r\n            let {lng,lat} =result.geocodes[0].location;\r\n            let marker= new AMap.Marker({\r\n                position:[lng,lat],\r\n                title:difang \r\n            })\r\n            map.add(marker)\r\n            show()\r\n            console.log([lng,lat],result.geocodes)\r\n            \r\n        }else{\r\n            throw Error(status)\r\n        }\r\n    })\r\n}\r\n\r\nexport default AMap"]},"metadata":{},"sourceType":"module"}